<!DOCTYPE html>
<html lang="zh-CN">

    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>CSS é€‰æ‹©å™¨é€ŸæŸ¥å‚è€ƒè¡¨ï¼ˆå¸¦æ ·å¼éš”ç¦»ï¼‰</title>
        <style>
            * {
                box-sizing: border-box;
                margin: 0;
                padding: 0;
            }

            body {
                font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "PingFang SC", sans-serif;
                line-height: 1.6;
                padding: 20px;
                background-color: #f9f9f9;
                color: #333;
            }

            h1 {
                text-align: center;
                margin-bottom: 30px;
                color: #2c3e50;
            }

            .selector-card {
                border: 1px solid #e0e0e0;
                margin: 20px 0;
                padding: 20px;
                border-radius: 10px;
                background: #ffffff;
                box-shadow: 0 2px 6px rgba(0, 0, 0, 0.05);
            }

            .selector-header {
                display: flex;
                justify-content: space-between;
                align-items: flex-start;
                margin-bottom: 12px;
                flex-wrap: wrap;
                gap: 10px;
            }

            .selector-title {
                font-size: 18px;
                font-weight: bold;
                color: #2c3e50;
            }

            .copy-btn {
                background: #007bff;
                color: white;
                border: none;
                padding: 6px 12px;
                border-radius: 6px;
                cursor: pointer;
                font-size: 14px;
                white-space: nowrap;
                transition: background 0.2s;
            }

            .copy-btn:hover {
                background: #0056b3;
            }

            .selector-code {
                font-family: 'Courier New', monospace;
                background: #f8f9fa;
                padding: 8px 12px;
                border-radius: 6px;
                margin: 10px 0;
                font-size: 15px;
                color: #d63384;
                border-left: 3px solid #007bff;
            }

            .selector-desc {
                margin: 10px 0;
                color: #555;
            }

            .example-container {
                padding: 16px;
                background: #fafafa;
                border: 1px dashed #ccc;
                margin: 14px 0;
                min-height: 50px;
                border-radius: 6px;
            }

            .tags {
                margin-top: 12px;
            }

            .tag {
                display: inline-block;
                background: #e0e0e0;
                color: #555;
                padding: 4px 10px;
                border-radius: 20px;
                font-size: 13px;
                margin-right: 8px;
                margin-bottom: 6px;
            }

            footer {
                text-align: center;
                margin-top: 30px;
                color: #888;
                font-size: 14px;
            }
        </style>
    </head>

    <body>
        <h1>CSS é€‰æ‹©å™¨é€ŸæŸ¥å‚è€ƒè¡¨ï¼ˆå¸¦æ ·å¼éš”ç¦»ï¼‰</h1>
        <div id="selector-reference-table"></div>
        <footer>ç‚¹å‡»â€œğŸ“‹ å¤åˆ¶é€‰æ‹©å™¨â€å¯ä¸€é”®å¤åˆ¶ CSS é€‰æ‹©å™¨ä»£ç </footer>

        <script>
            const selectors = [
                {
                    title: "æ ‡ç­¾é€‰æ‹©å™¨",
                    selector: "p",
                    description: "é€‰æ‹©æ‰€æœ‰ <code>&lt;p&gt;</code> å…ƒç´ ",
                    exampleHTML: '<p>æ®µè½1</p><p>æ®µè½2</p><div>div1</div><p>æ®µè½3</p>',
                    tags: ["æ ‡ç­¾é€‰æ‹©å™¨"],
                    css: "p { color: red; }"
                },
                {
                    title: "ç±»é€‰æ‹©å™¨",
                    selector: ".highlight",
                    description: "é€‰æ‹©æ‰€æœ‰ <code>class=\"highlight\"</code> çš„å…ƒç´ ",
                    exampleHTML: '<p class="highlight">é«˜äº®æ®µè½</p><div>æ™®é€šdiv</div><span class="highlight">é«˜äº®span</span>',
                    tags: ["class"],
                    css: ".highlight { background-color: yellow; color: #000; padding: 4px; }"
                },
                {
                    title: "ID é€‰æ‹©å™¨",
                    selector: "#main-title",
                    description: "é€‰æ‹© <code>id=\"main-title\"</code> çš„å”¯ä¸€å…ƒç´ ",
                    exampleHTML: '<h1 id="main-title">ä¸»æ ‡é¢˜</h1><p>æ™®é€šæ®µè½</p>',
                    tags: ["id"],
                    css: "#main-title { font-size: 24px; color: blue; }"
                },
                {
                    title: "åä»£é€‰æ‹©å™¨",
                    selector: "div p",
                    description: "é€‰æ‹©æ‰€æœ‰åœ¨ <code>&lt;div&gt;</code> å†…éƒ¨çš„ <code>&lt;p&gt;</code>ï¼ˆä»»æ„å±‚çº§åä»£ï¼‰",
                    exampleHTML: '<div><p>åä»£æ®µè½</p><span><p>æ·±å±‚åä»£</p></span></div><p>å¤–éƒ¨æ®µè½</p>',
                    tags: ["ç»„åˆé€‰æ‹©å™¨", "åä»£"],
                    css: "div p { color: green; font-style: italic; }"
                },
                {
                    title: "å­é€‰æ‹©å™¨",
                    selector: "div > p",
                    description: "ä»…é€‰æ‹© <code>&lt;div&gt;</code> çš„ç›´æ¥å­å…ƒç´  <code>&lt;p&gt;</code>",
                    exampleHTML: '<div><p>ç›´æ¥å­æ®µè½</p><span><p>å­™å­æ®µè½ï¼ˆä¸ä¼šå˜è‰²ï¼‰</p></span></div>',
                    tags: ["ç»„åˆé€‰æ‹©å™¨", "å­å…ƒç´ "],
                    css: "div > p { font-weight: bold; color: #d35400; }"
                },
                {
                    title: "å±æ€§é€‰æ‹©å™¨",
                    selector: 'a[href*="example"]',
                    description: "é€‰æ‹© <code>href</code> å±æ€§åŒ…å« <code>example</code> çš„ <code>&lt;a&gt;</code> æ ‡ç­¾",
                    exampleHTML: '<a href="https://example.com">Example é“¾æ¥</a><a href="/local">æœ¬åœ°é“¾æ¥</a>',
                    tags: ["å±æ€§é€‰æ‹©å™¨"],
                    css: 'a[href*="example"] { color: purple; text-decoration: underline; }'
                },
                {
                    title: "ä¼ªç±»é€‰æ‹©å™¨ (:hover)",
                    selector: "button:hover",
                    description: "é¼ æ ‡æ‚¬åœæ—¶çš„æŒ‰é’®æ ·å¼",
                    exampleHTML: '<button>æ‚¬åœæˆ‘è¯•è¯•</button>',
                    tags: ["ä¼ªç±»", "äº¤äº’"],
                    css: "button:hover { background-color: orange; color: white; }"
                },
                {
                    title: "ç»“æ„ä¼ªç±» (:first-child)",
                    selector: "p:first-child",
                    description: "é€‰æ‹©ä½œä¸ºçˆ¶å…ƒç´ ç¬¬ä¸€ä¸ªå­å…ƒç´ çš„ <code>&lt;p&gt;</code>",
                    exampleHTML: '<div><p>ç¬¬ä¸€ä¸ªï¼ˆå˜ç²—ï¼‰</p><p>ç¬¬äºŒä¸ª</p></div><div><span>ép</span><p>è¿™ä¸ªä¸ä¼šå˜</p></div>',
                    tags: ["ä¼ªç±»", "ç»“æ„"],
                    css: "p:first-child { font-weight: bold; }"
                },
                {
                    title: "é€šé…ç¬¦é€‰æ‹©å™¨",
                    selector: "*",
                    description: "é€‰æ‹©é¡µé¢ä¸­æ‰€æœ‰å…ƒç´ ï¼ˆæ…ç”¨ï¼‰",
                    exampleHTML: '<p>æ®µè½</p><div>div</div><span>span</span>',
                    tags: ["å…¨å±€", "é€šé…ç¬¦"],
                    css: "* { margin: 4px; padding: 4px; border: 1px solid #ddd; font-size: 14px; }"
                },
                {
                    title: "ç›¸é‚»å…„å¼Ÿé€‰æ‹©å™¨",
                    selector: "h2 + p",
                    description: "é€‰æ‹©ç´§è·Ÿåœ¨ <code>&lt;h2&gt;</code> åçš„ <code>&lt;p&gt;</code> å…ƒç´ ",
                    exampleHTML: '<h2>æ ‡é¢˜</h2><p>ç´§è·Ÿçš„æ®µè½ï¼ˆä¼šå˜è‰²ï¼‰</p><p>ä¸‹ä¸€ä¸ªæ®µè½ï¼ˆä¸å˜ï¼‰</p>',
                    tags: ["ç»„åˆé€‰æ‹©å™¨", "å…„å¼Ÿ"],
                    css: "h2 + p { color: teal; }"
                },
                {
                    title: "é€šç”¨å…„å¼Ÿé€‰æ‹©å™¨",
                    selector: "h2 ~ p",
                    description: "é€‰æ‹© <code>&lt;h2&gt;</code> ä¹‹åæ‰€æœ‰åŒçº§çš„ <code>&lt;p&gt;</code> å…ƒç´ ",
                    exampleHTML: '<h2>æ ‡é¢˜</h2><div>ä¸­é—´div</div><p>ç¬¬ä¸€ä¸ªå…„å¼Ÿæ®µè½</p><p>ç¬¬äºŒä¸ªå…„å¼Ÿæ®µè½</p>',
                    tags: ["ç»„åˆé€‰æ‹©å™¨", "å…„å¼Ÿ"],
                    css: "h2 ~ p { background-color: #e8f4f8; }"
                }
            ];

            // âœ¨ å…³é”®å‡½æ•°ï¼šå°† CSS é™åˆ¶åœ¨æŒ‡å®šå®¹å™¨ç±»åä¸‹
            function scopeCSS(css, scopeClass) {
                // ç§»é™¤æ³¨é‡Šå’Œå¤šä½™ç©ºè¡Œï¼ˆç®€åŒ–å¤„ç†ï¼‰
                return css
                    .split(';')
                    .filter(part => part.trim())
                    .map(rule => {
                        const trimmed = rule.trim();
                        if (!trimmed) return '';
                        // æ‰¾åˆ°ç¬¬ä¸€ä¸ª { ä¹‹å‰çš„éƒ¨åˆ†ï¼ˆé€‰æ‹©å™¨ï¼‰
                        const match = trimmed.match(/^([^{}]+)\s*{\s*(.*)\s*}$/);
                        if (match) {
                            let selectors = match[1].trim();
                            const styles = match[2].trim();
                            // ä¸ºæ¯ä¸ªé€‰æ‹©å™¨æ·»åŠ ä½œç”¨åŸŸå‰ç¼€
                            const scopedSelectors = selectors
                                .split(',')
                                .map(sel => `${scopeClass} ${sel.trim()}`)
                                .join(', ');
                            return `${scopedSelectors} { ${styles}; }`;
                        }
                        return rule + ';';
                    })
                    .join('\n')
                    .replace(/\s+/g, ' ')
                    .replace(/;}/g, '}');
            }

            function renderSelectorTable() {
                const container = document.getElementById('selector-reference-table');
                container.innerHTML = '';

                selectors.forEach((item, index) => {
                    const scopeClass = `.example-${index}`;
                    const scopedCSS = scopeCSS(item.css, scopeClass);

                    const exampleDiv = document.createElement('div');
                    exampleDiv.className = `example-container example-${index}`;
                    exampleDiv.innerHTML = item.exampleHTML;

                    const style = document.createElement('style');
                    style.textContent = scopedCSS;
                    document.head.appendChild(style); // å…¨å±€ styleï¼Œä½†å†…å®¹å·²ä½œç”¨åŸŸåŒ–

                    const tagsHtml = item.tags.map(tag => `<span class="tag">${tag}</span>`).join('');

                    const card = document.createElement('div');
                    card.className = 'selector-card';
                    card.innerHTML = `
          <div class="selector-header">
            <div class="selector-title">${item.title}</div>
            <button class="copy-btn" data-selector="${item.selector}">ğŸ“‹ å¤åˆ¶é€‰æ‹©å™¨</button>
          </div>
          <div class="selector-code">${item.selector}</div>
          <div class="selector-desc">${item.description}</div>
          ${exampleDiv.outerHTML}
          <div class="tags">${tagsHtml}</div>
        `;

                    container.appendChild(card);
                });

                // ç»‘å®šå¤åˆ¶äº‹ä»¶
                document.querySelectorAll('.copy-btn').forEach(btn => {
                    btn.addEventListener('click', () => {
                        const selector = btn.getAttribute('data-selector');
                        navigator.clipboard.writeText(selector).then(() => {
                            const originalText = btn.textContent;
                            btn.textContent = 'âœ… å·²å¤åˆ¶';
                            setTimeout(() => btn.textContent = originalText, 1500);
                        }).catch(() => {
                            alert('å¤åˆ¶å¤±è´¥ï¼Œè¯·æ‰‹åŠ¨å¤åˆ¶');
                        });
                    });
                });
            }

            document.addEventListener('DOMContentLoaded', renderSelectorTable);
        </script>
    </body>

</html>